<script type="text/javascript">
	RED.nodes.registerType('keyble-send_command', {
		category: 'keyble',
		color: '#80c0ff',
		defaults: {
			connection: {value:null, type:'keyble-connection'}
		},
		inputs: 1,
		outputs: 0,
		icon: 'font-awesome/fa-sign-in',
		paletteLabel: 'Control smart lock',
		label: function() {
			return (this.name || 'Control smart lock');
		},
	});
</script>

<script type="text/html" data-template-name="keyble-send_command">
	<div class="form-row">
		<label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
		<input type="text" id="node-input-name" placeholder="Name">
	</div>
	<div class="form-row">
		<label for="node-input-connection"><i class="fa fa-user-cog"></i> Connection</label>
		<input type="text" id="node-input-connection" placeholder="Connection">
	</div>
</script>

<script type="text/html" data-help-name="keyble-send_command">
	<p>A node that sends commands to a eqiva eQ-3 bluetooth smart lock</p>

	<h3>Inputs</h3>
	<dl class="message-properties">
		<dt>payload <span class="property-type">string</span></dt>
		<dd> the command to execute. One of "open"/"lock"/"unlock"/"toggle". </dd>
	</dl>

	<h3>Details</h3>
	<p><code>msg.payload</code> is used as the payload of the published message. If it contains an Object it will be converted to a JSON string before being sent. If it contains a binary Buffer the message will be published as-is.</p>
	<p>The topic used can be configured in the node or, if left blank, can be set by <code>msg.topic</code>.</p>
	<p>Likewise the QoS and retain values can be configured in the node or, if left blank, set by <code>msg.qos</code> and <code>msg.retain</code> respectively.</p>

	<h3>References</h3>
	<ul>
		<li><a href="https://oyooyo.github.io/keyble-nodered">GitHub</a> - the nodes GitHub page</li>
	</ul>
</script>
